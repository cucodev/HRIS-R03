
@{
    ViewBag.Title = "MyDependent";
    Layout = "~/Views/Shared/_LayoutLeftNav.cshtml";
}

<script type="text/javascript">
    $(document).ready(function () {
        var x = location.hostname;
        var imgurl = "file://" + x + "/SQLSERVER/HRIS/personImage/person-small.png";
        var data = [
                  {
                      laptops:
                      [
                          { img: imgurl, ram: '8GB DD3', cpu: 'Intel Core i7-3720QM', price: 2999, display: 15.4, hdd: '512GB SSD', model: 'Apple MacBook Pro' },
                          { img: imgurl, ram: '8GB DD3', cpu: 'Intel Core i7-3667U', price: 1299, display: 13.3, hdd: '256GB SSD', model: 'Apple MacBook Air' },
                          { img: imgurl, ram: '8GB DD3', cpu: 'Intel Core i7-3632QM', price: 2199, display: 15.4, hdd: '256GB SSD', model: 'Asus ZenBook UX51VZ' }
                      ]
                  },
                  {
                      laptops:
                      [
                          { img: imgurl, ram: '4GB DD3', cpu: 'Intel Core i5-3317U', price: 1899, display: 13.3, hdd: '128GB SSD', model: 'ASUS TAICHI31-CX009H' },
                          { img: imgurl, ram: '4GB DD3', cpu: 'Intel Core i7-3517U', price: 1799, display: 13.3, hdd: '628GB', model: 'Asus TX300CA-C4024H' },
                          { img: imgurl, ram: '16GB DD3', cpu: 'Intel Core i7-3820QM', price: 2499, display: 15.6, hdd: '1TB', model: 'Lenovo ThinkPad T530' }
                      ]
                  },
                  {
                      laptops:
                      [
                          { img: imgurl, ram: '8GB DD3', cpu: 'Intel Core i5-3210M', price: 1499, display: 15.6, hdd: '750GB', model: 'Samsung Series 7 Chronos' },
                          { img: imgurl, ram: '8GB DD3', cpu: 'Intel Core i7-3720QM', price: 1499, display: 17.3, hdd: '256GB SSD', model: 'HP EliteBook 8770w' },
                          { img: imgurl, ram: '8GB DD3', cpu: 'Intel Core i7-3517U', price: 1499, display: 14.0, hdd: '512GB', model: 'Dell XPS 14' }
                      ]
                  },
                  {
                      laptops:
                      [
                          { img: imgurl, ram: '32GB DD3', cpu: 'Intel Core i7-4800MQ', price: 3499, display: 17.3, hdd: '750GB', model: 'Dell Alienware 17' },
                          { img: imgurl, ram: '8GB DD3', cpu: 'Intel Core i7-3537U', price: 1699, display: 15.6, hdd: '1TB', model: 'Acer Aspire R7-571G' },
                          { img: imgurl, ram: '8GB DD3', cpu: 'Intel Core i7-4500U', price: 1599, display: 15.6, hdd: '256GB SSD', model: 'Acer Aspire V5-573G' }
                      ]
                  },
                  {
                      laptops:
                      [
                          { img: imgurl, ram: '32GB DD3', cpu: 'Intel Core i7-4700MQ', price: 2199, display: 17.3, hdd: '1TB', model: 'Toshiba Qosmio X70-A-114' },
                          { img: imgurl, ram: '4GB DD3', cpu: 'Intel Core i7-3667U', price: 2699, display: 14.0, hdd: '256GB SSD', model: 'Lenovo Thinkpad X1 Carbon' },
                          { img: imgurl, ram: '8GB DD3', cpu: 'Intel Core i5-3317U ', price: 1699, display: 12.5, hdd: '128GB SSD', model: 'Dell XPS Duo 12' }
                      ]
                  },
                  {
                      laptops:
                      [
                          { img: imgurl, ram: '8GB DD3', cpu: 'Intel Core i7-3537U', price: 1799, display: 12.5, hdd: '256GB SSD', model: 'Lenovo ThinkPad Twist S230u' },
                          { img: imgurl, ram: '4GB DD3', cpu: 'Intel Core i5-3317U ', price: 1299, display: 11.6, hdd: '128GB SSD', model: 'Sony Vaio Duo' },
                          { img: imgurl, ram: '4GB DD3', cpu: 'Intel Core i5-3230M', price: 999, display: 15.5, hdd: '256GB SSD', model: 'Sony VAIO' },
                      ]
                  }
        ];

        var source =
        {
            localData: data,
            dataType: "array"
        };

        var dataAdapter = new $.jqx.dataAdapter(source);
        var itemsInCart = 0;

        $("#dataTable").jqxDataTable(
        {
            width: 640,
            source: dataAdapter,
            sortable: true,
            pagerHeight: 36,
            pageable: true,
            pageSize: 2,
            theme: 'arctic',
            pagerButtonsCount: 5,
            enableHover: false,
            selectionMode: 'none',
            rendered: function () {
                $(".buy").jqxButton({ theme: 'arctic' });
                $(".buy").click(function () {
                    itemsInCart++;
                    $(".cart-top p").html(itemsInCart + " products");
                });
            },
            columns: [
                  {
                      text: 'Products', align: 'left', dataField: 'model',
                      // row - row's index.
                      // column - column's data field.
                      // value - cell's value.
                      // rowData - rendered row's object.
                      cellsRenderer: function (row, column, value, rowData) {
                          var laptops = rowData.laptops;
                          var container = "<div>";
                          for (var i = 0; i < laptops.length; i++) {
                              var laptop = laptops[i];
                              var item = "<div style='float: left; width: 210px; overflow: hidden; white-space: nowrap; height: 265px;'>";
                              var image = "<div style='margin: 5px; margin-bottom: 3px;'>";
                              var imgurl = laptop.img;
                              var img = '<img width=160 height=120 style="display: block;" src="' + imgurl + '"/>';
                              image += img;
                              image += "</div>";

                              var info = "<div style='margin: 5px; margin-left: 10px; margin-bottom: 3px;'>";
                              info += "<div><i>" + laptop.model + "</i></div>";
                              info += "<div>Price: $" + laptop.price + "</div>";
                              info += "<div>RAM: " + laptop.ram + "</div>";
                              info += "<div>HDD: " + laptop.hdd + "</div>";
                              info += "<div>CPU: " + laptop.cpu + "</div>";
                              info += "<div>Display: " + laptop.display + "</div>";
                              info += "</div>";

                              var buy = "<button class='buy' style='margin: 5px; width: 80px; left: -40px; position: relative; margin-left: 50%; margin-bottom: 3px;'>Buy</button>";

                              item += image;
                              item += info;
                              item += buy;
                              item += "</div>";
                              container += item;
                          }
                          container += "</div>";
                          return container;
                      }
                  }
            ]
        });
    });
</script>

<div id="dataTable"></div>